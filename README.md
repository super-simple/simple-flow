# simple-flow

一个DAG版的BPMN流程引擎,虽然不是完全实现BPMN,但是基本已经实现了其完整的功能

## 设计理念

1. DAG,基于图的设计结构,配置简单
2. 面向扩展编程,已与扩展,几乎所有的地方都可以扩展

## 功能

1. 事件
2. 网关
3. 活动

## 设计细节

1. 简化bpmn的功能,更多的向图来靠拢,因为BPMN的本质,在作者看来,就是图,所以,向图靠拢,来简化功能

### 复杂网关

1. 比如有5个人工任务,有三个执行完成,就可以启动,网关聚合的地方,执行多次,每一次都判断条件,达到即可执行
   ,引擎只需要支持聚合节点多次执行即可
2. 业务网关,根据达到的条件,自定义网关实现业务即可
3. 定时器事件,线条的条件就是,比如过30分钟再执行,一旦这个条件开始执行,那么其余分支作废,即第一个分支执行以后,其余分支无需执行,
   对于网关来说,即是限定成功条件个数,同时还要注意并发,此时可以选择顺序实现,而不采用并发
4. 对于复杂的网关,往往还可以采用串行,然后通过各种条件的判断,来应对业务的复杂性